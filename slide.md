---
transition: "slide"
title: "Denoã¨Supabaseã§æ²¼ã£ãŸè©±"
---

Deno ã¨ Supabase ã§æ²¼ã£ãŸè©±

<div style="display:flex;justify-content:space-evenly;align-items:center;background:lightgray;">
<img src="https://seeklogo.com/images/F/fresh-logo-F66F0FD377-seeklogo.com.png" alt="" style="height:120px;">
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Deno.svg/1280px-Deno.svg.png" alt="" style="height:150px;">
<img src="https://seeklogo.com/images/S/supabase-logo-DCC676FFE2-seeklogo.com.png" alt="" style="height:130px;">
</div>

---

## è‡ªå·±ç´¹ä»‹

--

|         |                                      |
| ------- | ------------------------------------ |
| Name    | å¤§æ‰å¤ªéƒï¼ˆãŸã‚ã•ã‚“ï¼ŒãŸã‚å…ˆç”Ÿï¼‰       |
| Age     | 1987 å¹´ç”Ÿã¾ã‚Œ                        |
| Place   | èŒ¨åŸçœŒ -> åŒ—æµ·é“ -> æ±äº¬éƒ½ -> ç¦å²¡çœŒ |
| Career  | è¬›å¸«ï¼Œé–‹ç™ºï¼ˆLaravel ãƒ¡ã‚¤ãƒ³ï¼‰         |
| Like1   | Denoï¼ŒRustï¼ŒğŸ“šï¼Œâœˆï¸ ğŸšƒ ğŸšŒï¼ŒğŸš®         |
| Like2   | ğŸ¥ƒ, ğŸº, ğŸ·                           |
| twitter | @taro_osg                            |

--

```txt
                  ï¼¿äººäººäººäººäººäººäººäººäººäººäººäººäººäººäººï¼¿
                  ï¼ã€€Denoï¼ˆFreshï¼‰ã¯ã„ã„ãï¼ï¼ã€€ï¼œ
                  ï¿£Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Yï¿£
```

---

## ã‚‚ãã˜

--

- ã¤ãã£ãŸã‚‚ã®

- ä½¿ã£ãŸæŠ€è¡“

- æ²¼

- ã¾ã¨ã‚

---

## ã¤ãã£ãŸã‚‚ã®

--

ã‚¸ãƒ¼ã‚ºã§ã¯èª²é¡Œã‚’æå‡ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ï¼

--

æå‡ºç”¨ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ã¤ãã‚ã†ï¼

--

ã‚„ã‚ŠãŸã„ã“ã¨

--

- ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰æå‡ºãŒã§ãã‚‹ï¼ˆå—è¬›ç”Ÿï¼‰

- æå‡ºã—ãŸå†…å®¹ã‚’ç¢ºèªã§ãã‚‹ï¼ˆå—è¬›ç”Ÿï¼‰

- æå‡ºã•ã‚ŒãŸå†…å®¹ã‚’è©•ä¾¡ã§ãã‚‹ï¼ˆä¸­ã®äººï¼‰

---

## ä½¿ã£ãŸæŠ€è¡“

--

(Â´ãƒ»Ï‰ãƒ»ï½€;)ï½³ï½°ï¾...??

--

(\*`ï½¥Ï‰ï½¥Â´) Deno ã‚„ãªï¼

--

(\*`ï½¥Ï‰ï½¥Â´) æœ€è¿‘å‡ºãŸ Fresh ã‚’ä½¿ã†ãï¼

--

(Â´ãƒ»Ï‰ãƒ»ï½€;) DB ã¯...

--

(\*`ï½¥Ï‰ï½¥Â´) Supabase ã‚„ï¼

--

(\*`ï½¥Ï‰ï½¥Â´) ä¸­èº« Postgres ã‚„ã—ä½™è£•ã‚„ã‚ï¼ˆæ…¢å¿ƒï¼‰

---

## æ²¼

--

å®Ÿè£…

--

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¤ãã£ã¦ï¼ˆã¤ãã£ã¦ãªã„ï¼‰

--

ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã§ã„ã„æ„Ÿã˜ã«ã‚„ã£ã¦ãã‚Œã‚‹

```txt
.
â”œâ”€â”€ admin
â”‚Â Â  â”œâ”€â”€ [id].tsx
â”‚Â Â  â”œâ”€â”€ _middleware.ts
â”‚Â Â  â””â”€â”€ index.tsx
â”œâ”€â”€ index.tsx
â””â”€â”€ posts
    â”œâ”€â”€ [id].tsx
    â”œâ”€â”€ _middleware.ts
    â”œâ”€â”€ create.tsx
    â”œâ”€â”€ fantastic.tsx
    â””â”€â”€ index.tsx
```

--

ï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã”ã¨ã® middleware è¨­ç½®è‰¯ãï¼‰

--

ç”»é¢ä½œã£ã¦ï¼ï¼ï¼

--

SSR ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½œæˆã™ã‚‹

```js
import { PageProps } from "$fresh/server.ts";

export default function Greet(props: PageProps) {
  return <div>Hello {props.params.name}</div>;
}
```

--

(\*`ï½¥Ï‰ï½¥Â´) ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‹

--

...

--

(\*`ï½¥Ï‰ï½¥Â´) ã†ï¼Œå‹•ã‹ã‚“ï¼ï¼ï¼

--

---30 åˆ†å¾Œ---

--

(Â´ãƒ»Ï‰ãƒ»ï½€) ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã® URL æŒ‡å®šãŒãŠã‹ã—ã‹ã£ãŸ

--

ãƒ‡ãƒ¼ã‚¿å…¥ã‚Œã‚‹å‡¦ç†ä½œã£ã¦ï¼ï¼ï¼

ãƒ‡ãƒ¼ã‚¿å…¨éƒ¨ã‚‚ã£ã¦ãã‚‹å‡¦ç†ã¤ãã£ã¦ï¼ï¼ï¼

--

(\*`ï½¥Ï‰ï½¥Â´) Supabase ã®å…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä½™è£•ã‚„ï¼

--

ãƒ†ãƒ¼ãƒ–ãƒ«é€£æºï¼

```js
const { data, error } = await supabase
  .from("countries")
  .select(`name, cities(name)`);
```

--

ï¼ˆã‚«ãƒ©ãƒ åã¨ã‹æ–‡å­—åˆ—ãªã®ãŒè‹¥å¹²ã‚­ãƒ¢ã„ãªï¼ï¼ï¼‰

--

(\*`ï½¥Ï‰ï½¥Â´) ã•ã¦ï¼Œãƒ‡ãƒ¼ã‚¿ã®ä¸¦ã³æ›¿ãˆãŒå¿…è¦ã‚„ãªï¼

--

order()ã‚’ä½¿ã†

```js
const { data, error } = await supabase
  .from("cities")
  .select("name", "country_id")
  .order("id", { ascending: false });
```

--

ä»Šå›ã¯è¦ªãƒ†ãƒ¼ãƒ–ãƒ«ã®å€¤ã‚’

å­ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚«ãƒ©ãƒ ã§ä¸¦ã³æ›¿ãˆãŸã„

--

(\*`ï½¥Ï‰ï½¥Â´) fmfm...

```js
const { data, error } = await supabase
  .from("countries")
  .select(`name, cities(name)`)
  .order("name", { foreignTable: "cities", ascending: false });
```

--

...

--

(Â´ãƒ»Ï‰ãƒ»ï½€;) é †ç•ªå¤‰ã‚ã£ã¦ãªãã­ï¼Ÿï¼Ÿ

--

(Â´ãƒ»Ï‰ãƒ»ï½€;) ä¿®æ­£ä¿®æ­£ï¼ï¼ï¼

--

--- 1 æ™‚é–“å¾Œ ---

--

(Â´ãƒ»Ï‰ãƒ»ï½€;;) ãªã‚“ã§ã‚„ï¼Ÿï¼Ÿï¼Ÿ

--

(Â´ãƒ»Ï‰ãƒ»ï½€;;) ã‚“ï¼Ÿï¼Ÿ

--

```txt
Ordering on foreign tables
doesn't affect the ordering of the parent table.
```

--

```
å¤–éƒ¨ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã®é †åºä»˜ã‘ã¯ã€
è¦ªãƒ†ãƒ¼ãƒ–ãƒ«ã®é †åºä»˜ã‘ã«å½±éŸ¿ã—ãªã„ã€‚ï¼ˆDeepLã«ã‚ˆã‚‹ç¿»è¨³ï¼‰
```

--

(Â´ãƒ»Ï‰ãƒ»ï½€;;) ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚

--

ä¸¦ã³æ›¿ã‚ã‚‰ãªã„ã®ã¯ã€Œä»•æ§˜ã€

--

```txt
              ï¼¿äººäººäººäººäººäººäººäººäººäººäººäººäººäººï¼¿
              ï¼ã€€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚ï¼ï¼ï¼ã€€ï¼œ
              ï¿£Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Yï¿£
```

--

(\*`ï½¥Ï‰ï½¥Â´) ã‚¯ã‚½ãŒã‚ã‚ã‚ã‚ã‚ã‚ã‚ï¼ï¼ï¼

--

åŠ›ã“ããƒ‘ãƒ¯ãƒ¼

```js
posts.sort((a, b) => {
  if (a.class > b.class) return -1;
  if (a.class < b.class) return 1;
  if (a.work > b.work) return -1;
  if (a.work < b.work) return 1;
  if (a.student_number > b.student_number) return 1;
  if (a.student_number < b.student_number) return -1;
  return 0;
});
```

--

![ã‚„ã‚Œã‚„ã‚Œã ãœ](https://stat.ameba.jp/user_images/20201006/22/funnymanbuggy/4c/e7/j/o0378054714830956365.jpg)

---

## ã¾ã¨ã‚

--

Denoï¼ˆFreshï¼‰ã¯ã„ã„ãï¼

--

Supabase ã¯

å¤–éƒ¨ãƒ†ãƒ¼ãƒ–ãƒ«ã‚­ãƒ¼ã ã¨ä¸¦ã³æ›¿ã‚ã‚‰ãªã„ã‚ˆï¼

--

JS ã§ãªã‚“ã¨ã‹ã™ã‚Œã°ãªã‚“ã¨ã‹ãªã‚‹ã‚ˆï¼

--

```txt
              ï¼¿äººäººäººäººäººäººäººäººäººäººäººäººäººäººï¼¿
              ï¼ã€€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚ï¼ï¼ï¼ã€€ï¼œ
              ï¿£Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Yï¿£
```
